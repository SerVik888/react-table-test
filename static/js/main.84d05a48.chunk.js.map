{"version":3,"sources":["components/table.module.css","components/TableFilter.js","components/TableBody.js","components/TableHead.js","components/Pagination.js","context/tableContext/TableContext.js","App.js","context/types.js","context/tableContext/tableReducer.js","data.js","api.js","context/tableContext/paginateReducer.js","context/tableContext/TableState.js","index.js"],"names":["module","exports","TableFilter","dataLength","tableFilter","useState","columnName","condition","inputValue","state","setState","inputError","setInputError","handleChange","target","name","value","test","length","prev","className","s","filter","dataNotFound","filterFields","selectorName","selector","onChange","inputWrapper","input","placeholder","errorInput","onClick","handleSubmit","btn","type","TableBody","currentItems","tableRow","map","item","datacreat","title","quantity","distance","id","TableHead","sortTop","sortDown","sortItem","tableHead","Pagination","data","pageSize","totalItems","currentPage","paginate","setCurrentItems","useEffect","pageNumbers","i","Math","ceil","push","pagination","number","activePageNum","pageNum","TableContext","React","createContext","App","useContext","setData","GET_DATA","PAGINATE","GET_CURRENT_ITEMS","FILTER","SORT_TOP","SORT_DOWN","handlers","action","sort","a","b","String","toLowerCase","includes","Number","tableReducer","DEFAULT","axios","get","result","page","slice","firstItemIndex","lastItemIndex","paginateReducer","TableState","children","initialState","useReducer","tableState","tableDispatch","paginateState","paginateDispatch","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84d05a48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"columnName\":\"table_columnName__3Rt5h\",\"pagination\":\"table_pagination__1gM-s\",\"pageNum\":\"table_pageNum__h0Mrk\",\"activePageNum\":\"table_activePageNum__3bxhI\",\"filter\":\"table_filter__3AwYH\",\"filterFields\":\"table_filterFields__31Xd2\",\"input\":\"table_input__3EfLg\",\"inputWrapper\":\"table_inputWrapper__2GS_l\",\"errorInput\":\"table_errorInput__jhB97\",\"btn\":\"table_btn__jpLQ8\",\"selector\":\"table_selector__33Sfb\",\"selectorName\":\"table_selectorName__1WcvD\",\"dataNotFound\":\"table_dataNotFound__10NUZ\"};","import React, { useState } from 'react'\r\nimport s from './table.module.css'\r\n\r\nexport const TableFilter = ({ dataLength, tableFilter }) => {\r\n  // создаём два состояния ,\r\n  // первое(setState) контролировать данные из селекторов и поля ввода\r\n  // второе(setInputError) контролировать ошику\r\n\r\n  const [state, setState] = useState({\r\n    columnName: 'all',\r\n    condition: '=',\r\n    inputValue: '',\r\n  })\r\n  const [inputError, setInputError] = useState('')\r\n  // обрабатываем состояние селекторов и поля ввода\r\n  // валидируем поле ввода если введёное значениене не корректно показываем ошибку\r\n  // иначе обнуляем ошибку и добавляем данные в локальный state\r\n\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    const re = /[^a-zA-Z0-9]/g\r\n    if (name === 'inputValue' && re.test(value)) {\r\n      return setInputError('Только цифры и лат. буквы')\r\n    } else if (name === 'inputValue' && value.length >= 11) {\r\n      return setInputError('Макс. кол-во символов 10')\r\n    } else {\r\n      setInputError('')\r\n    }\r\n    setState((prev) => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  // Обрабатываем нажатие кнопкп\r\n  // После нажания забираем данные из локального состояния и отравляем их в reducer для фильтрации\r\n  // Если значение поля ввода нет , показываем ошибку\r\n\r\n  const handleSubmit = (columnName, condition, inputValue) => {\r\n    if (!inputValue) {\r\n      return setInputError('Введите символ')\r\n    }\r\n    tableFilter(columnName, condition, inputValue)\r\n    state.inputValue = ''\r\n  }\r\n\r\n  return (\r\n    <form className={s.filter}>\r\n      {dataLength === 0 && <h2 className={s.dataNotFound}> Ни чего не найдено!</h2>}\r\n\r\n      <div className={s.filterFields}>\r\n        <p className={s.selectorName}>Колонка :</p>\r\n        <select\r\n          className={s.selector}\r\n          name='columnName'\r\n          value={state.columnName}\r\n          onChange={handleChange}\r\n        >\r\n          <option value={'allааа'}>Все</option>\r\n          <option value={'title'}>Название</option>\r\n          <option value={'quantity'}>Колличество</option>\r\n          <option value={'distance'}>Расстояние</option>\r\n        </select>\r\n      </div>\r\n      <div className={s.filterFields}>\r\n        <p className={s.selectorName}>Условие :</p>\r\n        <select\r\n          className={s.selector}\r\n          name='condition'\r\n          value={state.condition}\r\n          onChange={handleChange}\r\n        >\r\n          {/* Если выбрана колонка 'Все' или 'Название' скрываем условия 'больше', 'меньше' т.к там могут быть\r\n      строковые значения */}\r\n\r\n          <option value={'='}>Равно</option>\r\n          <option value={'includes'}>Содержит</option>\r\n          {(state.columnName === 'distance' || state.columnName === 'quantity') && (\r\n            <option value={'>'}>Больше</option>\r\n          )}\r\n          {(state.columnName === 'distance' || state.columnName === 'quantity') && (\r\n            <option value={'<'}>Меньше</option>\r\n          )}\r\n        </select>\r\n      </div>\r\n      <div className={s.inputWrapper}>\r\n        <input\r\n          className={s.input}\r\n          placeholder='поиск'\r\n          value={state.inputValue}\r\n          name='inputValue'\r\n          onChange={handleChange}\r\n        />\r\n\r\n        {inputError && <div className={s.errorInput}>{inputError}</div>}\r\n      </div>\r\n      <div>\r\n        <button\r\n          onClick={() => {\r\n            handleSubmit(state.columnName, state.condition, state.inputValue)\r\n          }}\r\n          className={s.btn}\r\n          type='button'\r\n        >\r\n          Фильтровать\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport s from './table.module.css'\r\n\r\nexport const TableBody = ({ currentItems }) => {\r\n  return (\r\n    <tbody className={s.tableRow}>\r\n      {currentItems.map((item) => (\r\n        <tr key={item.id}>\r\n          <td>{item.datacreat}</td>\r\n          <td>{item.title}</td>\r\n          <td>{item.quantity}</td>\r\n          <td>{item.distance}</td>\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport s from './table.module.css'\r\n\r\nexport const TableHead = ({ sortTop, sortDown, sortItem }) => {\r\n  return (\r\n    <thead className={s.tableHead}>\r\n      <tr>\r\n        <th>\r\n          <span>Дата</span>\r\n        </th>\r\n        <th\r\n          onClick={() => {\r\n            !sortItem ? sortTop('title') : sortDown('title')\r\n          }}\r\n          className={s.columnName}\r\n        >\r\n          <span>Название</span>\r\n        </th>\r\n        <th\r\n          onClick={() => {\r\n            !sortItem ? sortTop('quantity') : sortDown('quantity')\r\n          }}\r\n          className={s.columnName}\r\n        >\r\n          <span>Количество</span>\r\n        </th>\r\n        <th\r\n          onClick={() => {\r\n            !sortItem ? sortTop('distance') : sortDown('distance')\r\n          }}\r\n          className={s.columnName}\r\n        >\r\n          <span>Расстояние</span>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport s from './table.module.css'\r\n\r\nexport const Pagination = ({\r\n  data,\r\n  pageSize,\r\n  totalItems,\r\n  currentPage,\r\n  paginate,\r\n  setCurrentItems,\r\n}) => {\r\n  useEffect(() => {\r\n    setCurrentItems(data, pageSize, currentPage)\r\n  }, [data, currentPage])\r\n\r\n  useEffect(() => {\r\n    paginate(1)\r\n  }, [data])\r\n\r\n  const pageNumbers = []\r\n  for (let i = 1; i <= Math.ceil(totalItems / pageSize); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <div className={s.pagination}>\r\n      {pageNumbers.map((number) => (\r\n        <div\r\n          key={number}\r\n          className={number === currentPage ? s.activePageNum : s.pageNum}\r\n          onClick={() => {\r\n            paginate(number)\r\n          }}\r\n        >\r\n          {number}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const TableContext = React.createContext()\r\n","import React, { useContext, useEffect } from 'react'\nimport './App.css'\n\nimport { TableFilter } from './components/TableFilter'\nimport { TableBody } from './components/TableBody'\nimport { TableHead } from './components/TableHead'\nimport { Pagination } from './components/Pagination'\nimport { TableContext } from './context/tableContext/TableContext'\n\nexport const App = () => {\n  const {\n    data,\n    sortItem,\n    currentPage,\n    currentItems,\n    setCurrentItems,\n    pageSize,\n    setData,\n    paginate,\n    sortTop,\n    sortDown,\n    tableFilter,\n  } = useContext(TableContext)\n\n  useEffect(() => {\n    setData()\n  }, [])\n\n  if (!data) {\n    return <h1>Подождите идёт загрузка</h1>\n  }\n\n  return (\n    <div className='App'>\n      <TableFilter dataLength={data.length} tableFilter={tableFilter} />\n      <table>\n        <TableHead sortItem={sortItem} sortTop={sortTop} sortDown={sortDown} />\n        <TableBody currentItems={currentItems} />\n      </table>\n      <Pagination\n        data={data}\n        setCurrentItems={setCurrentItems}\n        totalItems={data.length}\n        pageSize={pageSize}\n        currentPage={currentPage}\n        paginate={paginate}\n      />\n    </div>\n  )\n}\n","export const GET_DATA = 'GET_DATA'\r\nexport const PAGINATE = 'PAGINATE'\r\nexport const GET_CURRENT_ITEMS = 'GET_CURRENT_ITEMS'\r\nexport const FILTER = 'FILTER'\r\nexport const SORT_TOP = 'SORT_TOP'\r\nexport const SORT_DOWN = 'SORT_DOWN'\r\n","import { FILTER, GET_DATA, SORT_DOWN, SORT_TOP } from '../types'\r\n\r\nconst handlers = {\r\n  [GET_DATA]: (state, action) => ({\r\n    ...state,\r\n    data: action.data,\r\n  }),\r\n\r\n  [SORT_TOP]: (state, action) => ({\r\n    ...state,\r\n    data: [...state.data.sort((a, b) => (a[action.item] < b[action.item] ? 1 : -1))],\r\n    sortItem: action.item,\r\n  }),\r\n  [SORT_DOWN]: (state, action) => ({\r\n    ...state,\r\n    data: [...state.data.sort((a, b) => (a[action.item] > b[action.item] ? 1 : -1))],\r\n    sortItem: null,\r\n  }),\r\n\r\n  [FILTER]: (state, action) => ({\r\n    ...state,\r\n    data: state.data.filter((i) => {\r\n      if (action.columnName === 'all' && action.condition === '=') {\r\n        return (\r\n          String(i.title).toLowerCase() === action.inputValue.toLowerCase() ||\r\n          String(i.quantity).toLowerCase() === action.inputValue.toLowerCase() ||\r\n          String(i.distance).toLowerCase() === action.inputValue.toLowerCase()\r\n        )\r\n      } else if (action.columnName === 'all' && action.condition === 'includes') {\r\n        return (\r\n          i.title.toLowerCase().includes(action.inputValue.toLowerCase()) ||\r\n          String(i.quantity).toLowerCase().includes(action.inputValue.toLowerCase()) ||\r\n          String(i.distance).toLowerCase().includes(action.inputValue.toLowerCase())\r\n        )\r\n      } else if (action.columnName === 'title' && action.condition === '=') {\r\n        return String(i.title).toLowerCase() === action.inputValue.toLowerCase()\r\n      } else if (action.columnName === 'title' && action.condition === 'includes') {\r\n        return i.title.toLowerCase().includes(action.inputValue.toLowerCase())\r\n      } else if ((action.columnName === 'quantity' || 'distance') && action.condition === '=') {\r\n        return i[action.columnName] === Number(action.inputValue)\r\n      } else if (\r\n        (action.columnName === 'quantity' || 'distance') &&\r\n        action.condition === 'includes'\r\n      ) {\r\n        return String(i[action.columnName]).includes(action.inputValue)\r\n      } else if ((action.columnName === 'quantity' || 'distance') && action.condition === '>') {\r\n        return i[action.columnName] > Number(action.inputValue)\r\n      } else if ((action.columnName === 'distance' || 'quantity') && action.condition === '<') {\r\n        return i[action.columnName] < Number(action.inputValue)\r\n      }\r\n    }),\r\n  }),\r\n  DEFAULT: (state) => state,\r\n}\r\n\r\nexport const tableReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT\r\n  return handler(state, action)\r\n}\r\n","export const data = [\r\n  { id: 1, datacreat: '28.06.2021', title: 'Car', quantity: 10, distance: 100 },\r\n  { id: 2, datacreat: '28.06.2022', title: 'Car', quantity: 10, distance: 1002 },\r\n  { id: 3, datacreat: '29.06.2022', title: 'SmartCar', quantity: 1, distance: 1100 },\r\n  { id: 4, datacreat: '30.06.2022', title: 'Bus', quantity: 5, distance: 1100 },\r\n  { id: 5, datacreat: '02.07.2021', title: 'SmartBus', quantity: 50, distance: 1200 },\r\n  { id: 6, datacreat: '03.07.2021', title: 'Auto', quantity: 500, distance: 12 },\r\n  { id: 7, datacreat: '05.07.2021', title: 'Tesla', quantity: 1, distance: 1 },\r\n  { id: 8, datacreat: '06.07.2021', title: 'BMW', quantity: 15, distance: 100 },\r\n  { id: 9, datacreat: '07.07.2021', title: 'Mersedes', quantity: 22, distance: 10 },\r\n  { id: 10, datacreat: '08.07.2021', title: 'Audi', quantity: 20, distance: 103 },\r\n  { id: 11, datacreat: '09.07.2021', title: 'Reno', quantity: 202, distance: 1030 },\r\n  { id: 13, datacreat: '28.06.2021', title: 'Lada2112', quantity: 10, distance: 100 },\r\n  { id: 14, datacreat: '28.08.2021', title: 'Lada2106', quantity: 10, distance: 500000 },\r\n  { id: 15, datacreat: '28.08.2021', title: 'Mazda626', quantity: 56, distance: 50000 },\r\n  { id: 16, datacreat: '28.08.2021', title: 'OpelVectra', quantity: 124, distance: 52000 },\r\n  { id: 17, datacreat: '28.08.2021', title: 'RenoMegan', quantity: 124, distance: 362000 },\r\n  { id: 18, datacreat: '28.08.2021', title: 'Volga2000', quantity: 124, distance: 3620000 },\r\n  { id: 19, datacreat: '28.09.2021', title: 'SuperCar', quantity: 14, distance: 3620000 },\r\n  { id: 20, datacreat: '28.09.2021', title: 'SuperBus24', quantity: 14, distance: 3620000 },\r\n  { id: 21, datacreat: '28.10.2021', title: 'Bus24', quantity: 14, distance: 362 },\r\n  { id: 22, datacreat: '28.10.2025', title: 'Car365', quantity: 14, distance: 36200 },\r\n  { id: 23, datacreat: '28.10.2025', title: 'Bus365', quantity: 164, distance: 356005 },\r\n  { id: 24, datacreat: '28.11.2025', title: 'Bus376', quantity: 250, distance: 35605 },\r\n]\r\n","import axios from 'axios'\r\n\r\nexport const API = {\r\n  fetchData: async () => {\r\n    const result = await axios.get('http://localhost:8080/api/item')\r\n    return result.data\r\n  },\r\n}\r\n","import { GET_CURRENT_ITEMS, PAGINATE } from '../types'\r\n\r\nconst handlers = {\r\n  [PAGINATE]: (state, action) => ({\r\n    ...state,\r\n    currentPage: action.page,\r\n  }),\r\n  [GET_CURRENT_ITEMS]: (state, action) => ({\r\n    ...state,\r\n    currentItems: action.data.slice(action.firstItemIndex, action.lastItemIndex),\r\n  }),\r\n  DEFAULT: (state) => state,\r\n}\r\n\r\nexport const paginateReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT\r\n  return handler(state, action)\r\n}\r\n","import React, { useMemo, useReducer } from 'react'\r\n\r\nimport { tableReducer } from './tableReducer'\r\nimport { API } from '../../api'\r\nimport { GET_DATA, PAGINATE, SORT_TOP, SORT_DOWN, FILTER, GET_CURRENT_ITEMS } from '../types'\r\nimport { TableContext } from './TableContext'\r\nimport { data } from '../../data'\r\nimport { paginateReducer } from './paginateReducer'\r\n\r\nexport const TableState = ({ children }) => {\r\n  const initialState = {\r\n    data: [],\r\n    currentPage: 1,\r\n    pageSize: 7,\r\n    sortItem: null,\r\n    currentItems: [],\r\n  }\r\n  const [tableState, tableDispatch] = useReducer(tableReducer, initialState)\r\n  const [paginateState, paginateDispatch] = useReducer(paginateReducer, initialState)\r\n\r\n  // Так как не смог разместить сервер и БД удалённо, пришлось для\r\n  // деплоя брать данные из статичного файла.\r\n\r\n  const setData = () => {\r\n    // const data = await API.fetchData()\r\n    tableDispatch({ type: GET_DATA, data })\r\n  }\r\n\r\n  const tableFilter = (columnName, condition, inputValue) =>\r\n    tableDispatch({ type: FILTER, columnName, condition, inputValue })\r\n\r\n  const sortTop = (item) => tableDispatch({ type: SORT_TOP, item })\r\n  const sortDown = (item) => tableDispatch({ type: SORT_DOWN, item })\r\n\r\n  const setCurrentItems = (data, pageSize, currentPage) => {\r\n    const lastItemIndex = currentPage * pageSize\r\n    const firstItemIndex = lastItemIndex - pageSize\r\n    paginateDispatch({ type: GET_CURRENT_ITEMS, data, firstItemIndex, lastItemIndex })\r\n  }\r\n\r\n  const paginate = (page) => paginateDispatch({ type: PAGINATE, page })\r\n\r\n  return (\r\n    <TableContext.Provider\r\n      value={{\r\n        data: tableState.data,\r\n        sortItem: tableState.sortItem,\r\n        pageSize: tableState.pageSize,\r\n        currentPage: paginateState.currentPage,\r\n        currentItems: paginateState.currentItems,\r\n        setCurrentItems,\r\n        setData,\r\n        sortTop,\r\n        sortDown,\r\n        paginate,\r\n        tableFilter,\r\n      }}\r\n    >\r\n      {children}\r\n    </TableContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { App } from './App'\nimport { TableState } from './context/tableContext/TableState'\n\nReactDOM.render(\n  <TableState>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </TableState>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}