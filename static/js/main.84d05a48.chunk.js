(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1:function(t,e,a){t.exports={columnName:"table_columnName__3Rt5h",pagination:"table_pagination__1gM-s",pageNum:"table_pageNum__h0Mrk",activePageNum:"table_activePageNum__3bxhI",filter:"table_filter__3AwYH",filterFields:"table_filterFields__31Xd2",input:"table_input__3EfLg",inputWrapper:"table_inputWrapper__2GS_l",errorInput:"table_errorInput__jhB97",btn:"table_btn__jpLQ8",selector:"table_selector__33Sfb",selectorName:"table_selectorName__1WcvD",dataNotFound:"table_dataNotFound__10NUZ"}},27:function(t,e,a){},28:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n,i,c=a(2),r=a.n(c),u=a(20),s=a.n(u),l=(a(27),a(28),a(4)),o=a(3),d=a(6),j=a(1),m=a.n(j),b=a(0),p=function(t){var e=t.dataLength,a=t.tableFilter,n=Object(c.useState)({columnName:"all",condition:"=",inputValue:""}),i=Object(d.a)(n,2),r=i[0],u=i[1],s=Object(c.useState)(""),j=Object(d.a)(s,2),p=j[0],O=j[1],h=function(t){var e=t.target,a=e.name,n=e.value;return"inputValue"===a&&/[^a-zA-Z0-9]/g.test(n)?O("\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 \u043b\u0430\u0442. \u0431\u0443\u043a\u0432\u044b"):"inputValue"===a&&n.length>=11?O("\u041c\u0430\u043a\u0441. \u043a\u043e\u043b-\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 10"):(O(""),void u((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},a,n))})))};return Object(b.jsxs)("form",{className:m.a.filter,children:[0===e&&Object(b.jsx)("h2",{className:m.a.dataNotFound,children:" \u041d\u0438 \u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),Object(b.jsxs)("div",{className:m.a.filterFields,children:[Object(b.jsx)("p",{className:m.a.selectorName,children:"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 :"}),Object(b.jsxs)("select",{className:m.a.selector,name:"columnName",value:r.columnName,onChange:h,children:[Object(b.jsx)("option",{value:"all\u0430\u0430\u0430",children:"\u0412\u0441\u0435"}),Object(b.jsx)("option",{value:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(b.jsx)("option",{value:"quantity",children:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(b.jsx)("option",{value:"distance",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})]})]}),Object(b.jsxs)("div",{className:m.a.filterFields,children:[Object(b.jsx)("p",{className:m.a.selectorName,children:"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 :"}),Object(b.jsxs)("select",{className:m.a.selector,name:"condition",value:r.condition,onChange:h,children:[Object(b.jsx)("option",{value:"=",children:"\u0420\u0430\u0432\u043d\u043e"}),Object(b.jsx)("option",{value:"includes",children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442"}),("distance"===r.columnName||"quantity"===r.columnName)&&Object(b.jsx)("option",{value:">",children:"\u0411\u043e\u043b\u044c\u0448\u0435"}),("distance"===r.columnName||"quantity"===r.columnName)&&Object(b.jsx)("option",{value:"<",children:"\u041c\u0435\u043d\u044c\u0448\u0435"})]})]}),Object(b.jsxs)("div",{className:m.a.inputWrapper,children:[Object(b.jsx)("input",{className:m.a.input,placeholder:"\u043f\u043e\u0438\u0441\u043a",value:r.inputValue,name:"inputValue",onChange:h}),p&&Object(b.jsx)("div",{className:m.a.errorInput,children:p})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){!function(t,e,n){if(!n)return O("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b");a(t,e,n),r.inputValue=""}(r.columnName,r.condition,r.inputValue)},className:m.a.btn,type:"button",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},O=function(t){var e=t.currentItems;return Object(b.jsx)("tbody",{className:m.a.tableRow,children:e.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.datacreat}),Object(b.jsx)("td",{children:t.title}),Object(b.jsx)("td",{children:t.quantity}),Object(b.jsx)("td",{children:t.distance})]},t.id)}))})},h=function(t){var e=t.sortTop,a=t.sortDown,n=t.sortItem;return Object(b.jsx)("thead",{className:m.a.tableHead,children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("span",{children:"\u0414\u0430\u0442\u0430"})}),Object(b.jsx)("th",{onClick:function(){n?a("title"):e("title")},className:m.a.columnName,children:Object(b.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(b.jsx)("th",{onClick:function(){n?a("quantity"):e("quantity")},className:m.a.columnName,children:Object(b.jsx)("span",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})}),Object(b.jsx)("th",{onClick:function(){n?a("distance"):e("distance")},className:m.a.columnName,children:Object(b.jsx)("span",{children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})]})})},f=function(t){var e=t.data,a=t.pageSize,n=t.totalItems,i=t.currentPage,r=t.paginate,u=t.setCurrentItems;Object(c.useEffect)((function(){u(e,a,i)}),[e,i]),Object(c.useEffect)((function(){r(1)}),[e]);for(var s=[],l=1;l<=Math.ceil(n/a);l++)s.push(l);return Object(b.jsx)("div",{className:m.a.pagination,children:s.map((function(t){return Object(b.jsx)("div",{className:t===i?m.a.activePageNum:m.a.pageNum,onClick:function(){r(t)},children:t},t)}))})},N=r.a.createContext(),x=function(){var t=Object(c.useContext)(N),e=t.data,a=t.sortItem,n=t.currentPage,i=t.currentItems,r=t.setCurrentItems,u=t.pageSize,s=t.setData,l=t.paginate,o=t.sortTop,d=t.sortDown,j=t.tableFilter;return Object(c.useEffect)((function(){s()}),[]),e?Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{dataLength:e.length,tableFilter:j}),Object(b.jsxs)("table",{children:[Object(b.jsx)(h,{sortItem:a,sortTop:o,sortDown:d}),Object(b.jsx)(O,{currentItems:i})]}),Object(b.jsx)(f,{data:e,setCurrentItems:r,totalItems:e.length,pageSize:u,currentPage:n,paginate:l})]}):Object(b.jsx)("h1",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u0438\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},g=a(11),_="GET_DATA",y="PAGINATE",v="GET_CURRENT_ITEMS",I="FILTER",C="SORT_TOP",q="SORT_DOWN",L=(n={},Object(l.a)(n,_,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{data:e.data})})),Object(l.a)(n,C,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{data:Object(g.a)(t.data.sort((function(t,a){return t[e.item]<a[e.item]?1:-1}))),sortItem:e.item})})),Object(l.a)(n,q,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{data:Object(g.a)(t.data.sort((function(t,a){return t[e.item]>a[e.item]?1:-1}))),sortItem:null})})),Object(l.a)(n,I,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{data:t.data.filter((function(t){return"all"===e.columnName&&"="===e.condition?String(t.title).toLowerCase()===e.inputValue.toLowerCase()||String(t.quantity).toLowerCase()===e.inputValue.toLowerCase()||String(t.distance).toLowerCase()===e.inputValue.toLowerCase():"all"===e.columnName&&"includes"===e.condition?t.title.toLowerCase().includes(e.inputValue.toLowerCase())||String(t.quantity).toLowerCase().includes(e.inputValue.toLowerCase())||String(t.distance).toLowerCase().includes(e.inputValue.toLowerCase()):"title"===e.columnName&&"="===e.condition?String(t.title).toLowerCase()===e.inputValue.toLowerCase():"title"===e.columnName&&"includes"===e.condition?t.title.toLowerCase().includes(e.inputValue.toLowerCase()):(e.columnName,"="===e.condition?t[e.columnName]===Number(e.inputValue):(e.columnName,"includes"===e.condition?String(t[e.columnName]).includes(e.inputValue):(e.columnName,">"===e.condition?t[e.columnName]>Number(e.inputValue):(e.columnName,"<"===e.condition?t[e.columnName]<Number(e.inputValue):void 0))))}))})})),Object(l.a)(n,"DEFAULT",(function(t){return t})),n),w=function(t,e){return(L[e.type]||L.DEFAULT)(t,e)},S=a(10),V=a.n(S),T=a(21),F=a(22),E=a.n(F),A=(function(){var t=Object(T.a)(V.a.mark((function t(){var e;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("http://localhost:8080/api/item");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))}(),[{id:1,datacreat:"28.06.2021",title:"Car",quantity:10,distance:100},{id:2,datacreat:"28.06.2022",title:"Car",quantity:10,distance:1002},{id:3,datacreat:"29.06.2022",title:"SmartCar",quantity:1,distance:1100},{id:4,datacreat:"30.06.2022",title:"Bus",quantity:5,distance:1100},{id:5,datacreat:"02.07.2021",title:"SmartBus",quantity:50,distance:1200},{id:6,datacreat:"03.07.2021",title:"Auto",quantity:500,distance:12},{id:7,datacreat:"05.07.2021",title:"Tesla",quantity:1,distance:1},{id:8,datacreat:"06.07.2021",title:"BMW",quantity:15,distance:100},{id:9,datacreat:"07.07.2021",title:"Mersedes",quantity:22,distance:10},{id:10,datacreat:"08.07.2021",title:"Audi",quantity:20,distance:103},{id:11,datacreat:"09.07.2021",title:"Reno",quantity:202,distance:1030},{id:13,datacreat:"28.06.2021",title:"Lada2112",quantity:10,distance:100},{id:14,datacreat:"28.08.2021",title:"Lada2106",quantity:10,distance:5e5},{id:15,datacreat:"28.08.2021",title:"Mazda626",quantity:56,distance:5e4},{id:16,datacreat:"28.08.2021",title:"OpelVectra",quantity:124,distance:52e3},{id:17,datacreat:"28.08.2021",title:"RenoMegan",quantity:124,distance:362e3},{id:18,datacreat:"28.08.2021",title:"Volga2000",quantity:124,distance:362e4},{id:19,datacreat:"28.09.2021",title:"SuperCar",quantity:14,distance:362e4},{id:20,datacreat:"28.09.2021",title:"SuperBus24",quantity:14,distance:362e4},{id:21,datacreat:"28.10.2021",title:"Bus24",quantity:14,distance:362},{id:22,datacreat:"28.10.2025",title:"Car365",quantity:14,distance:36200},{id:23,datacreat:"28.10.2025",title:"Bus365",quantity:164,distance:356005},{id:24,datacreat:"28.11.2025",title:"Bus376",quantity:250,distance:35605}]),D=(i={},Object(l.a)(i,y,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{currentPage:e.page})})),Object(l.a)(i,v,(function(t,e){return Object(o.a)(Object(o.a)({},t),{},{currentItems:e.data.slice(e.firstItemIndex,e.lastItemIndex)})})),Object(l.a)(i,"DEFAULT",(function(t){return t})),i),P=function(t,e){return(D[e.type]||D.DEFAULT)(t,e)},R=function(t){var e=t.children,a={data:[],currentPage:1,pageSize:7,sortItem:null,currentItems:[]},n=Object(c.useReducer)(w,a),i=Object(d.a)(n,2),r=i[0],u=i[1],s=Object(c.useReducer)(P,a),l=Object(d.a)(s,2),o=l[0],j=l[1];return Object(b.jsx)(N.Provider,{value:{data:r.data,sortItem:r.sortItem,pageSize:r.pageSize,currentPage:o.currentPage,currentItems:o.currentItems,setCurrentItems:function(t,e,a){var n=a*e;j({type:v,data:t,firstItemIndex:n-e,lastItemIndex:n})},setData:function(){u({type:_,data:A})},sortTop:function(t){return u({type:C,item:t})},sortDown:function(t){return u({type:q,item:t})},paginate:function(t){return j({type:y,page:t})},tableFilter:function(t,e,a){return u({type:I,columnName:t,condition:e,inputValue:a})}},children:e})};s.a.render(Object(b.jsx)(R,{children:Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(x,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.84d05a48.chunk.js.map