(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1:function(t,e,a){t.exports={columnName:"table_columnName__3Rt5h",pagination:"table_pagination__1gM-s",pageNum:"table_pageNum__h0Mrk",activePageNum:"table_activePageNum__3bxhI",filter:"table_filter__3AwYH",filterFields:"table_filterFields__31Xd2",input:"table_input__3EfLg",inputWrapper:"table_inputWrapper__2GS_l",errorInput:"table_errorInput__jhB97",btn:"table_btn__jpLQ8",selector:"table_selector__33Sfb",selectorName:"table_selectorName__1WcvD",dataNotFound:"table_dataNotFound__10NUZ"}},27:function(t,e,a){},28:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a.n(n),c=a(21),r=a.n(c),u=(a(27),a(28),a(5)),l=a(3),s=a(8),o=a(1),d=a.n(o),j=a(0),m=function(t){var e=t.dataLength,a=t.tableFilter,i=Object(n.useState)({columnName:"all",condition:"=",inputValue:""}),c=Object(s.a)(i,2),r=c[0],o=c[1],m=Object(n.useState)(""),b=Object(s.a)(m,2),p=b[0],O=b[1],h=function(t){var e=t.target,a=e.name,n=e.value;return"inputValue"===a&&/[^a-zA-Z0-9]/g.test(n)?O("\u0422\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 \u043b\u0430\u0442. \u0431\u0443\u043a\u0432\u044b"):"inputValue"===a&&n.length>=11?O("\u041c\u0430\u043a\u0441. \u043a\u043e\u043b-\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 10"):(O(""),void o((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},a,n))})))};return Object(j.jsxs)("form",{className:d.a.filter,children:[0===e&&Object(j.jsx)("h2",{className:d.a.dataNotFound,children:" \u041d\u0438 \u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),Object(j.jsxs)("div",{className:d.a.filterFields,children:[Object(j.jsx)("p",{className:d.a.selectorName,children:"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 :"}),Object(j.jsxs)("select",{className:d.a.selector,name:"columnName",value:r.columnName,onChange:h,children:[Object(j.jsx)("option",{value:"all\u0430\u0430\u0430",children:"\u0412\u0441\u0435"}),Object(j.jsx)("option",{value:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(j.jsx)("option",{value:"quantity",children:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(j.jsx)("option",{value:"distance",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})]})]}),Object(j.jsxs)("div",{className:d.a.filterFields,children:[Object(j.jsx)("p",{className:d.a.selectorName,children:"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 :"}),Object(j.jsxs)("select",{className:d.a.selector,name:"condition",value:r.condition,onChange:h,children:[Object(j.jsx)("option",{value:"=",children:"\u0420\u0430\u0432\u043d\u043e"}),Object(j.jsx)("option",{value:"includes",children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442"}),("distance"===r.columnName||"quantity"===r.columnName)&&Object(j.jsx)("option",{value:">",children:"\u0411\u043e\u043b\u044c\u0448\u0435"}),("distance"===r.columnName||"quantity"===r.columnName)&&Object(j.jsx)("option",{value:"<",children:"\u041c\u0435\u043d\u044c\u0448\u0435"})]})]}),Object(j.jsxs)("div",{className:d.a.inputWrapper,children:[Object(j.jsx)("input",{className:d.a.input,placeholder:"\u043f\u043e\u0438\u0441\u043a",value:r.inputValue,name:"inputValue",onChange:h}),p&&Object(j.jsx)("div",{className:d.a.errorInput,children:p})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){!function(t,e,n){if(!n)return O("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b");a(t,e,n),r.inputValue=""}(r.columnName,r.condition,r.inputValue)},className:d.a.btn,type:"button",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},b=i.a.memo(m),p=function(t){var e=(0,t.currentItems)();return Object(j.jsx)("tbody",{className:d.a.tableRow,children:e.map((function(t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t.datacreat}),Object(j.jsx)("td",{children:t.title}),Object(j.jsx)("td",{children:t.quantity}),Object(j.jsx)("td",{children:t.distance})]},t.id)}))})},O=function(t){var e=t.sortTop,a=t.sortDown,n=t.sortItem;return Object(j.jsx)("thead",{className:d.a.tableHead,children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:Object(j.jsx)("span",{children:"\u0414\u0430\u0442\u0430"})}),Object(j.jsx)("th",{onClick:function(){n?a("title"):e("title")},className:d.a.columnName,children:Object(j.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(j.jsx)("th",{onClick:function(){n?a("quantity"):e("quantity")},className:d.a.columnName,children:Object(j.jsx)("span",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})}),Object(j.jsx)("th",{onClick:function(){n?a("distance"):e("distance")},className:d.a.columnName,children:Object(j.jsx)("span",{children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})]})})},h=i.a.memo(O),N=function(t){for(var e=t.pageSize,a=t.totalItems,n=t.currentPage,i=t.paginate,c=[],r=1;r<=Math.ceil(a/e);r++)c.push(r);return Object(j.jsx)("div",{className:d.a.pagination,children:c.map((function(t){return Object(j.jsx)("div",{className:t===n?d.a.activePageNum:d.a.pageNum,onClick:function(){i(t)},children:t},t)}))})},f=i.a.createContext();var x,g=function(){var t=Object(n.useContext)(f),e=t.data,a=t.sortItem,i=t.currentPage,c=t.currentItems,r=t.pageSize,u=t.setData,l=t.paginate,s=t.sortTop,o=t.sortDown,d=t.tableFilter;return Object(n.useEffect)((function(){u()}),[]),e?Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{dataLength:e.length,tableFilter:d}),Object(j.jsxs)("table",{children:[Object(j.jsx)(h,{sortItem:a,sortTop:s,sortDown:o}),Object(j.jsx)(p,{data:e,currentItems:c})]}),Object(j.jsx)(N,{totalItems:e.length,pageSize:r,currentPage:i,paginate:l})]}):Object(j.jsx)("h1",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u0438\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},y=a(6),_=a.n(y),v=a(10),q=a(12),C="GET_DATA",w="PAGINATE",I="FILTER",S="SORT_TOP",L="SORT_DOWN",V=(x={},Object(u.a)(x,C,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{data:e.data})})),Object(u.a)(x,w,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{currentPage:e.page,currentItems:t.data.slice(e.firstItemIndex,e.lastItemIndex)})})),Object(u.a)(x,S,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{data:Object(q.a)(t.data.sort((function(t,a){return t[e.item]<a[e.item]?1:-1}))),sortItem:e.item})})),Object(u.a)(x,L,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{data:Object(q.a)(t.data.sort((function(t,a){return t[e.item]>a[e.item]?1:-1}))),sortItem:null})})),Object(u.a)(x,I,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{data:t.data.filter((function(t){return"all"===e.columnName&&"="===e.condition?String(t.title).toLowerCase()===e.inputValue.toLowerCase()||String(t.quantity).toLowerCase()===e.inputValue.toLowerCase()||String(t.distance).toLowerCase()===e.inputValue.toLowerCase():"all"===e.columnName&&"includes"===e.condition?t.title.toLowerCase().includes(e.inputValue.toLowerCase())||String(t.quantity).toLowerCase().includes(e.inputValue.toLowerCase())||String(t.distance).toLowerCase().includes(e.inputValue.toLowerCase()):"title"===e.columnName&&"="===e.condition?String(t.title).toLowerCase()===e.inputValue.toLowerCase():"title"===e.columnName&&"includes"===e.condition?t.title.toLowerCase().includes(e.inputValue.toLowerCase()):(e.columnName,"="===e.condition?t[e.columnName]===Number(e.inputValue):(e.columnName,"includes"===e.condition?String(t[e.columnName]).includes(e.inputValue):(e.columnName,">"===e.condition?t[e.columnName]>Number(e.inputValue):(e.columnName,"<"===e.condition?t[e.columnName]<Number(e.inputValue):null))))})),currentPage:1})})),Object(u.a)(x,"DEFAULT",(function(t){return t})),x),P=function(t,e){return(V[e.type]||V.DEFAULT)(t,e)},F=a(22),T=a.n(F),A=(function(){var t=Object(v.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("http://localhost:8080/api/item");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))}(),[{id:1,datacreat:"28.06.2021",title:"Car",quantity:10,distance:100},{id:2,datacreat:"28.06.2022",title:"Car",quantity:10,distance:1002},{id:3,datacreat:"29.06.2022",title:"SmartCar",quantity:1,distance:1100},{id:4,datacreat:"30.06.2022",title:"Bus",quantity:5,distance:1100},{id:5,datacreat:"02.07.2021",title:"SmartBus",quantity:50,distance:1200},{id:6,datacreat:"03.07.2021",title:"Auto",quantity:500,distance:12},{id:7,datacreat:"05.07.2021",title:"Tesla",quantity:1,distance:1},{id:8,datacreat:"06.07.2021",title:"BMW",quantity:15,distance:100},{id:9,datacreat:"07.07.2021",title:"Mersedes",quantity:22,distance:10},{id:10,datacreat:"08.07.2021",title:"Audi",quantity:20,distance:103},{id:11,datacreat:"09.07.2021",title:"Reno",quantity:202,distance:1030},{id:13,datacreat:"28.06.2021",title:"Lada2112",quantity:10,distance:100},{id:14,datacreat:"28.08.2021",title:"Lada2106",quantity:10,distance:5e5},{id:15,datacreat:"28.08.2021",title:"Mazda626",quantity:56,distance:5e4},{id:16,datacreat:"28.08.2021",title:"OpelVectra",quantity:124,distance:52e3},{id:17,datacreat:"28.08.2021",title:"RenoMegan",quantity:124,distance:362e3},{id:18,datacreat:"28.08.2021",title:"Volga2000",quantity:124,distance:362e4},{id:19,datacreat:"28.09.2021",title:"SuperCar",quantity:14,distance:362e4},{id:20,datacreat:"28.09.2021",title:"SuperBus24",quantity:14,distance:362e4},{id:21,datacreat:"28.10.2021",title:"Bus24",quantity:14,distance:362},{id:22,datacreat:"28.10.2025",title:"Car365",quantity:14,distance:36200},{id:23,datacreat:"28.10.2025",title:"Bus365",quantity:164,distance:356005},{id:24,datacreat:"28.11.2025",title:"Bus376",quantity:250,distance:35605}]),D=function(t){var e=t.children,a=Object(n.useReducer)(P,{data:null,currentPage:1,pageSize:7,sortItem:null}),i=Object(s.a)(a,2),c=i[0],r=i[1],u=function(){var t=Object(v.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:C,data:A});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=c.currentPage*c.pageSize,o=l-c.pageSize;return Object(j.jsx)(f.Provider,{value:{data:c.data,sortItem:c.sortItem,pageSize:c.pageSize,currentPage:c.currentPage,currentItems:function(){return c.data.slice(o,l)},setData:u,sortTop:function(t){return r({type:S,item:t})},sortDown:function(t){return r({type:L,item:t})},paginate:function(t){return r({type:w,page:t})},tableFilter:function(t,e,a){return r({type:I,columnName:t,condition:e,inputValue:a})}},children:e})};r.a.render(Object(j.jsx)(D,{children:Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(g,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.c5f2c3d3.chunk.js.map